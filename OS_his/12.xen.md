## Review for "Disco: Running Commodity Operating Systems on Scalable Multiprocessors"

Yuchen You (yuchenxr) & Sept. 15

### Assigned paper questions

- Q: Compare and contrast Disco with Exokernel
  - Compare:
    - Both designs provide a layer of indirection which separates the above OS(guestOS and libOS) with the hardware resources
    - Both are trying to make the above OS to better make use of the special underlying hardware resources (have better flexibility)
    - Both enables a good performance of the above OS 
  - Contrast:
    - Disco:
      - Add a VMM layer between the hardware and the OS, which enables mulitple (comodity) OSes to run on a single scalable (ccNUMA) multiprocessor, it's not a __kernel__
      - It __virtualize__ the hardware resources to each guest OS, and each guest OS thinks it has the whole machine to itself.
      - It aims to provide the guest OSes with scalability on the fast developing hardware, especially the growing multiprocessors.
      - The Disco manages some policys and resources for the guest OSes, like the scheduling of vCPU, and the virtual-to-physical memory address translation (addr-space-virtualization)
      - The Disco also talks about the memory sharing and copy-on-write mechanisms between processors and between guest OSes (disk read-only sharing), it communicates by sharing memory.
    - Exokernel:
      - Add a layer like the hyprvisor, but the layer is very thin and only provides protection and multiplexing of hardware resources, its the design of the __(micro)kernel__
      - It supports multiple libOS (not whole guest OS), each specializes (best exploits) on certain hardware resources.
      - It aims to provide the libOS servers (apps) with as much control over the hardware resources.
      - It aims to reach high performance and flexibility by letting each libOS server to directly manage the hardware resources for their own needs.
      - It mainly focuses on the process's resources isolation with the help of the __secure bindings__ and IPC.

## Review for "Xen and the Art of Virtualization"

Yuchen You (yuchenxr) & Sept. 15

### Assigned paper questions

- Q: Microkernels and virtual machine monitors are two different ways to support the execution of multiple operating systems on modern hardware. How does the microkernel approach in L4 compare and contrast with the VMM approach in Xen?
  - Compare:
    - Both designs provide a layer of indirection which separates the above OS(libOS and guestOS) with the hardware resources.
    - Both ensure isolation between different OS(libOS and guestOS) by the help of the layer
    - Both have an overhead due to the extra layer of indirection which may slow
      down the performance of the above OS(libOS and guestOS)
    - Both let the above OS to design the policys of resource management by themselves (like scheduling etc.)
    - Both could support different above OS(libOS and guestOS) to run on the single hardware/architecture platform it is designed for (not good flexibility).
  - Contrast:
    - Xen:
      - The OS that run on top of Xen is a full guest OS, which is itself a complete OS (including both kernel and the libOS)
      - Provide a full VMM layer which emulates the hardware resources for the guest OS
      - Only test on the x86 architecture.
      - Still provides some policys and resources like the page table management for the guest OS
      - Isolation granularity is at the whole guest OS level (domain), different guest OS are isolated to each other
      - IOs are used via virtualized devices, which are emulated by the VMM layer.
    - L4:
      - The OS that run on top of L4 (like the L4Linux) is a libOS, which is not a complete OS, it relies on the underlying kernel's mechanisms to achieve its target functionality.
      - The L4 kernel only provides mechanisms, but not policys
      - Mainly tested on the Pentium architecture, but also tested on MIPS and Alpha architecture (but still limited)
      - Although different process are isolated to each other (process granularity), there's still ways that one process can affect another process, that is by using a lot of resource at one time to use up most computer's resources.
      - The process can still communicate with each other with the help of IPC, while the guest OS in Xen are isolated to each other and cannot communicate directly.
      - IOs are processed in user mode with IPC communication with the port.
